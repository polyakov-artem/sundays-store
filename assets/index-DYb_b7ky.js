import{r,c as N,j as a,L as J,J as Z,Z as q,u as S,a5 as ss,o as as,E as es,e as H,g as f,l as y,I as T,U as Q,M as ts,G as ns,a6 as cs,B as X,R as F,m as rs,a7 as os,a8 as is,n as ls,a9 as M}from"./index-DU-EKnGS.js";import{c as ds,a as us,P as _s}from"./createNormalizedData-Cfh5aRnx.js";const k="breadcrumbs",ms=`${k}__item`,hs=`${k}__link`,Is=({crumbs:s,className:o})=>{const t=N(k,o),n=r.useMemo(()=>s==null?void 0:s.map(({url:e,name:c})=>a.jsx("li",{className:ms,children:a.jsx(J,{className:hs,to:e,relative:"path",children:c})},e)),[s]);return a.jsx(a.Fragment,{children:!!(s!=null&&s.length)&&a.jsx("ul",{className:t,children:n})})},Ws=r.memo(Is),Js=()=>{const{categoryId:s}=Z(),{isFetching:o}=q(),t=S(ss),n=S(as),e=S(d=>s?es(d,s):void 0),{t:c}=H();return r.useMemo(()=>{const d=[{name:c(T.Catalog),url:f(y)}];return!e||o||(e.ancestors.forEach(u=>{var i;d.push({url:f(y,u.id),name:((i=t[u.id])==null?void 0:i.name[n])||""})}),d.push({url:f(y,e.id),name:e.name[n]})),d},[t,e,o,n,c])},V="loading-image",Cs=`${V}__spinner`,As=`${V}__image`,Ds=`${V}__image_is-loading`,vs=s=>{const{className:o,src:t,alt:n,children:e,contain:c,...m}=s,d=Q(V,o),[u,i]=r.useState(!1),h=r.useRef(null);r.useEffect(()=>{const l=h.current,I=()=>{i(!1)};return l==null||l.addEventListener("load",I),()=>l==null?void 0:l.removeEventListener("load",I)},[]),r.useEffect(()=>i(!0),[t]);const C=r.useMemo(()=>N(As,{[Ds]:u,[c?ts:ns]:!0}),[c,u]);return a.jsxs("div",{...m,className:d,children:[a.jsx("img",{ref:h,className:C,src:t,alt:n||""}),u&&a.jsx(cs,{className:Cs,type:"linear",fullSpace:!0}),e]})},Ns=r.memo(vs),Rs="tab-buttons",Ps=s=>{const{className:o,nameProp:t,items:n,selectedValue:e,valueProp:c,onTabBtnClick:m,...d}=s,u=Q(Rs,o),i=r.useMemo(()=>n.map(h=>{const C=""+h[t],l=h[c],I=JSON.stringify(l);return a.jsx(X,{el:"button",theme:"primary",view:"tab",size:"sm",selected:l===e,onClick:()=>m(l),children:C},I)}),[n,t,m,e,c]);return a.jsx("div",{className:u,...d,children:i})},w="product-availability",gs=`${w}__value`,Ts=`${w}_not-available`,ps=s=>{const{className:o,isAvailable:t,locale:n,...e}=s,{t:c}=H(),m=N(w,o,{[Ts]:!t});return a.jsxs("p",{...e,className:m,children:[c(T.IsOnStock),":"," ",a.jsx("span",{className:gs,children:`${c(t?T.Yes:T.No)}`})]})},Os=r.memo(ps),Ls=({variants:s,name:o,description:t,priceSorting:n,paramVariantId:e,discounts:c,locale:m})=>{var L;const d=r.useMemo(()=>ds(s,"id"),[s]),{ids:u,entities:i}=d,h=r.useMemo(()=>{let A=u[0];return n&&u.forEach(B=>{const K=i[A].scopedPrice.currentValue.centAmount,Y=i[B].scopedPrice.currentValue.centAmount;(n===F.asc&&K>Y||n===F.desc&&K<Y)&&(A=B)}),A},[u,i,n]),[C,l]=r.useState(h),I=e&&i[e]?e:C,x=i[I],{images:R,availability:D,priceData:P}=x,p=D==null?void 0:D.isOnStock,v=(o==null?void 0:o[m])||"",E=(t==null?void 0:t[m])||"",{currentPrice:$,priceDifference:j,discountId:O,currencyChar:U,isDiscounted:z,originalPrice:g}=P,b=O?(L=c.entities[O])==null?void 0:L.name[m]:"",G=r.useCallback(A=>{l(A)},[]);return{images:R,isAvailable:p,localizedName:v,localizedDescription:E,currentPrice:$,priceDifference:j,currencyChar:U,isDiscounted:z,originalPrice:g,discountName:b,currentVariantId:I,handleVariantIdSetting:G}},Bs="product-badge",fs=s=>{const{className:o,text:t,...n}=s,e=N(Bs,o);return a.jsx(a.Fragment,{children:!!t&&a.jsx("p",{className:e,...n,children:t})})},Ms=r.memo(fs),_="product-card",Vs=`${_}_mode_list`,xs=`${_}_not-available`,Es=`${_}__link`,$s=`${_}__header`,js=`${_}__body`,Us=`${_}__title`,zs=`${_}__img`,bs=`${_}__description`,Gs=`${_}__price`,Ss=`${_}__actions`,ys=`${_}__action-btn`,Hs=`${_}__discount-badge`,ks=`${_}__tabs`,W=120,ws="var-id",Ks=s=>{const{className:o,productProjection:t,priceSorting:n,isListMode:e,locale:c,categoryId:m,discounts:d,...u}=s,{t:i}=H(),{id:h,masterVariant:C,variants:l,name:I,description:x}=t,R=r.useMemo(()=>[C,...l].filter(B=>B.isMatchingVariant),[C,l]),{images:D,isAvailable:P,localizedName:p,localizedDescription:v,currentPrice:E,priceDifference:$,currencyChar:j,isDiscounted:O,originalPrice:U,discountName:z,currentVariantId:g,handleVariantIdSetting:b}=Ls({variants:R,name:I,description:x,priceSorting:n,locale:c,discounts:d}),G=N(rs,os,_,{[xs]:!P,[Vs]:e},o),L=r.useMemo(()=>v.length<=W?v:`${v.slice(0,W)}...`,[v]),A=f(is,`${m}/${h}/?${ws}=${g}`);return a.jsxs("article",{className:G,...u,children:[a.jsx("header",{className:$s,children:a.jsx(Ns,{src:D==null?void 0:D[0].url,alt:p,className:zs,contain:!0,children:a.jsx(Ms,{text:z,className:Hs})})}),a.jsxs("div",{className:js,children:[a.jsx(J,{className:Es,to:A,children:a.jsxs("h4",{className:N(ls,Us),children:[" ",p]})}),a.jsx("p",{className:bs,children:L}),R.length>1&&a.jsx(Ps,{className:ks,items:R,nameProp:"sku",valueProp:"id",selectedValue:g,onTabBtnClick:b}),a.jsx(us,{className:Gs,originalPrice:U,currentPrice:E,priceDifference:$,currencyChar:j,isDiscounted:O}),a.jsxs("div",{className:Ss,children:[a.jsx(X,{el:"link",view:"primary",theme:"primary",text:i(T.Details),size:"sm",to:A,relative:"path",className:ys}),a.jsx(_s,{disabled:!P,productId:h,variantId:g})]}),a.jsx(Os,{isAvailable:P,locale:c})]})]})},Qs=r.memo(Ks);function Xs(s){return M({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"},child:[]}]})(s)}function Zs(s){return M({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"},child:[]}]})(s)}function qs(s){return M({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 4v2H2V4zm1 7V9a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m5 5V9a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1M9 4v2H7V4zm5 0h-2v2h2zM4 9v2H2V9zm5 0v2H7V9zm5 0v2h-2V9zm-3-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm1 4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z"},child:[]}]})(s)}function sa(s){return M({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5zM3 3H2v1h1z"},child:[]},{tag:"path",attr:{d:"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5zM2 7h1v1H2zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm1 .5H2v1h1z"},child:[]}]})(s)}export{qs as B,Qs as P,Ps as T,ws as V,sa as a,Ws as b,Os as c,Xs as d,Zs as e,Ms as f,Ls as g,Js as u};
